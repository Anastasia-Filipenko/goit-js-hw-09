{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["const key = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\nlet localStorageData;\n\ntry {\n  localStorageData = JSON.parse(localStorage.getItem(key));\n} catch (e) {\n  console.log(e);\n}\n\nif (localStorageData) {\n  Array.from(form.elements).forEach(element => {\n    const storageValue = localStorageData[element.name];\n    if (storageValue) {\n      element.value = storageValue;\n    }\n  });\n}\n\nform.addEventListener('input', () => {\n  const formData = new FormData(form);\n  const formObject = {};\n  formData.forEach((value, key) => {\n    formObject[key] = value;\n  });\n\n  localStorage.setItem(key, JSON.stringify(formObject));\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  if (form.elements[1].value.length > 0 && form.elements[0].value.length > 0) {\n    console.log(localStorageData);\n    localStorage.removeItem(key);\n    form.reset();\n  } else {\n    alert(`Fill in all fields of the form`);\n  }\n});\n"],"names":["key","form","localStorageData","element","storageValue","formData","formObject","value","event"],"mappings":"oDAAA,MAAMA,EAAM,sBAENC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,IAAIC,EAEJ,GAAI,CACFA,EAAmB,KAAK,MAAM,aAAa,QAAQF,CAAG,CAAC,CACzD,OAAS,EAAP,CACA,QAAQ,IAAI,CAAC,CACf,CAEIE,GACF,MAAM,KAAKD,EAAK,QAAQ,EAAE,QAAQE,GAAW,CAC3C,MAAMC,EAAeF,EAAiBC,EAAQ,MAC1CC,IACFD,EAAQ,MAAQC,EAEtB,CAAG,EAGHH,EAAK,iBAAiB,QAAS,IAAM,CACnC,MAAMI,EAAW,IAAI,SAASJ,CAAI,EAC5BK,EAAa,CAAA,EACnBD,EAAS,QAAQ,CAACE,EAAOP,IAAQ,CAC/BM,EAAWN,GAAOO,CACtB,CAAG,EAED,aAAa,QAAQP,EAAK,KAAK,UAAUM,CAAU,CAAC,CACtD,CAAC,EAEDL,EAAK,iBAAiB,SAAUO,GAAS,CACvCA,EAAM,eAAc,EAEhBP,EAAK,SAAS,GAAG,MAAM,OAAS,GAAKA,EAAK,SAAS,GAAG,MAAM,OAAS,GACvE,QAAQ,IAAIC,CAAgB,EAC5B,aAAa,WAAWF,CAAG,EAC3BC,EAAK,MAAK,GAEV,MAAM,gCAAgC,CAE1C,CAAC"}