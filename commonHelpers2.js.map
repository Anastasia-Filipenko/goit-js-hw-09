{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["const key = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\nlet localStorageData;\n\ntry {\n  localStorageData = JSON.parse(localStorage.getItem(key));\n} catch (e) {\n  console.log(e);\n}\n\nif (localStorageData) {\n  Array.from(form.elements).forEach(element => {\n    const storageValue = localStorageData[element.name];\n    if (storageValue) {\n      element.value = storageValue;\n    }\n  });\n}\nform.addEventListener('input', () => {\n  const formData = new FormData(form);\n  const formObject = {};\n\n  formData.forEach((value, key) => {\n    formObject[key] = value;\n  });\n\n  localStorage.setItem(key, JSON.stringify(formObject));\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  if (form.elements[1].value.length > 0 && form.elements[0].value.length > 0) {\n    const returnObject = {\n      email: form.elements.email.value,\n      message: form.elements.message.value,\n    };\n    console.log(returnObject);\n    localStorage.removeItem(key);\n    form.reset();\n  } else {\n    alert(`Fill in all fields of the form`);\n  }\n});\n"],"names":["key","form","localStorageData","e","element","storageValue","formData","formObject","value","event","returnObject"],"mappings":"oDAAA,MAAMA,EAAM,sBAENC,EAAO,SAAS,cAAc,gBAAgB,EAEpD,IAAIC,EAEJ,GAAI,CACFA,EAAmB,KAAK,MAAM,aAAa,QAAQF,CAAG,CAAC,CACzD,OAASG,EAAP,CACA,QAAQ,IAAIA,CAAC,CACf,CAEID,GACF,MAAM,KAAKD,EAAK,QAAQ,EAAE,QAAQG,GAAW,CAC3C,MAAMC,EAAeH,EAAiBE,EAAQ,MAC1CC,IACFD,EAAQ,MAAQC,EAEtB,CAAG,EAEHJ,EAAK,iBAAiB,QAAS,IAAM,CACnC,MAAMK,EAAW,IAAI,SAASL,CAAI,EAC5BM,EAAa,CAAA,EAEnBD,EAAS,QAAQ,CAACE,EAAOR,IAAQ,CAC/BO,EAAWP,GAAOQ,CACtB,CAAG,EAED,aAAa,QAAQR,EAAK,KAAK,UAAUO,CAAU,CAAC,CACtD,CAAC,EAEDN,EAAK,iBAAiB,SAAUQ,GAAS,CAEvC,GADAA,EAAM,eAAc,EAChBR,EAAK,SAAS,GAAG,MAAM,OAAS,GAAKA,EAAK,SAAS,GAAG,MAAM,OAAS,EAAG,CAC1E,MAAMS,EAAe,CACnB,MAAOT,EAAK,SAAS,MAAM,MAC3B,QAASA,EAAK,SAAS,QAAQ,KACrC,EACI,QAAQ,IAAIS,CAAY,EACxB,aAAa,WAAWV,CAAG,EAC3BC,EAAK,MAAK,CACd,MACI,MAAM,gCAAgC,CAE1C,CAAC"}